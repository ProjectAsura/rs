//-----------------------------------------------------------------------------
// File : rsPassContext.h
// Desc : Pass Context.
// Copyright(c) Project Asura. All right reserved.
//-----------------------------------------------------------------------------
#pragma once


namespace rs {

///////////////////////////////////////////////////////////////////////////////
// PassGraph class
///////////////////////////////////////////////////////////////////////////////
class PassContext : public IPassContext
{
    //=========================================================================
    // list of friend classes and methods.
    //=========================================================================
    /* NOTHING */

public:
    //=========================================================================
    // public variables.
    //=========================================================================
    /* NOTHING */

    //=========================================================================
    // public methods.
    //=========================================================================

    //-------------------------------------------------------------------------
    //! @brief      引数付きコンストラクタです.
    //-------------------------------------------------------------------------
    PassContext(PassGraph* value, a3d::ICommandList* pCommandList);

    //-------------------------------------------------------------------------
    //! @brief      レンダーターゲットビューを取得します.
    //-------------------------------------------------------------------------
    a3d::IRenderTargetView* GetRTV(const ResourceHandle& resource) const override;

    //-------------------------------------------------------------------------
    //! @brief      深度ステンシルビューを取得します.
    //-------------------------------------------------------------------------
    a3d::IDepthStencilView* GetDSV(const ResourceHandle& resource) const override;

    //-------------------------------------------------------------------------
    //! @brief      アンオーダードアクセスビューを取得します.
    //-------------------------------------------------------------------------
    a3d::IUnorderedAccessView* GetUAV(const ResourceHandle& resource) const override;

    //-------------------------------------------------------------------------
    //! @brief      シェーダリソースビューを取得します.
    //-------------------------------------------------------------------------
    a3d::IShaderResourceView* GetSRV(const ResourceHandle& resource) const override;

    //-------------------------------------------------------------------------
    //! @brief      コマンドリストを取得します.
    //-------------------------------------------------------------------------
    a3d::ICommandList* GetCommandList() const override;

private:
    //=========================================================================
    // private variables.
    //=========================================================================
    PassGraph*          m_pGraph        = nullptr;
    a3d::ICommandList*  m_pCommandList  = nullptr;

    //=========================================================================
    // private methods.
    //=========================================================================
    /* NOTHING */
};

} // namespace rs
